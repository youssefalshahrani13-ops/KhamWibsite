<!DOCTYPE html> 
<html lang="ar" dir="rtl"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title> ุญุจุงุฑ | ุชุณุฌูู ุงูุฏุฎูู </title> 
    <link rel="stylesheet" href="sign-up-02-style.css"> 
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet"> 
</head> 






<nav class="navbar"> 
    <div class="nav-container"> 
        <div class="logo"> 
            <a href="index.html" id="adminLink">ุญุจุงุฑ</a> 
        </div>

        <ul class="nav-links"> 
            <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li> 
            <li><a href="Request02.html">ุทูุจ ุชุนุงูู</a></li> 
        </ul>

        <div class="auth-buttons">
            <a href="sign-up02.html" class="nav-btn-login">ุชุณุฌูู ุงูุฏุฎูู</a>
            <a href="create-account-02.html" class="nav-btn-signup">ุฅูุดุงุก ุญุณุงุจ</a>
        </div>
        
        <div class="menu-toggle" id="mobile-menu"> 
            <span class="bar"></span> 
            <span class="bar"></span> 
            <span class="bar"></span> 
        </div>
    </div>
</nav>










<body> 
    <div class="main-hero"> 
        <div class="auth-card"> 
            <h1 class="hero-title">ุชุณุฌูู ุงูุฏุฎูู</h1> 
            <p class="hero-subtitle">ุฃููุงู ุจู ูุฌุฏุฏุงู ูู ุนุงูู ุญุจุงุฑ ๐</p> 
            <div class="input-group"> 
                <input type="tel" id="loginPhone" placeholder="ุฑูู ุงูุฌูุงู" required> 
            </div>
            <button onclick="handleLogin()" class="primary-btn">ุฏุฎูู</button> 
            <p class="switch-auth">ููุณ ูุฏูู ุญุณุงุจุ <a href="create-account-02.html">ุฃูุดุฆ ุญุณุงุจู ุงูุขู</a></p> 
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyC5LqK5nYvhmgVLB8utjPjLQdNQMy_qe2c",
            authDomain: "comments-test01.firebaseapp.com",
            databaseURL: "https://comments-test01-default-rtdb.firebaseio.com",
            projectId: "comments-test01",
            storageBucket: "comments-test01.firebasestorage.app",
            messagingSenderId: "1061900134848",
            appId: "1:1061900134848:web:a740fa25f3a27a36be0025"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

      
window.handleLogin = function() {
    const phone = document.getElementById('loginPhone').value;

    if(phone) {
        db.collection("users").where("phone", "==", phone).get()
        .then((querySnapshot) => {
            if (!querySnapshot.empty) {
                const userDoc = querySnapshot.docs[0].data();
                localStorage.setItem("userName", userDoc.name); 
                
                // --- ุงูุชุนุฏูู ููุง: ุชูุฌูู ุฎุงุต ูุฌููู ---
                if (userDoc.name === "jameel" || phone === "195") {
                    const password = prompt(" ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงูุณุฑ ");
                    if (password === "jameel") {
                        // ุชูุฌูู ูุตูุญุฉ ุงูุฅุฏุงุฑุฉ (ุงูุชุฑุถูุง ุงุณููุง Test-Users.html ุจูุงุกู ุนูู ูููุงุชู)
                        window.location.href = "control02.html"; 
                    } else {
                        alert("ูููุฉ ุงูุณุฑ ุฎุงุทุฆุฉุ ุณูุชู ุฏุฎููู ููุณุชุฎุฏู ุนุงุฏู.");
                        window.location.href = "index.html";
                    }
                } else {
                    alert("ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ! ุฃููุงู ุจู " + userDoc.name);
                    window.location.href = "index.html";
                }
            } else {


                
    // ุงูุชุนุฏูู ููุง: ุงุณุชุฎุฏุงู confirm ูุฅุนุทุงุก ุฎูุงุฑุงุช ูููุณุชุฎุฏู
    const goToSignup = confirm("ูุฐุง ุงูุฑูู ุบูุฑ ูุณุฌู ูุฏููุง.\n\nุงุถุบุท 'ููุงูู' ูุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏุ ุฃู 'ุฅูุบุงุก' ููุชุฃูุฏ ูู ุงูุฑูู.");
    if (goToSignup) {
        window.location.href = "create-account-02.html";
    }
}
            
        })
        .catch((error) => {
            alert("ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.");
        });
    } else {
        alert("ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุงูุฌูุงู ุฃููุงู.");
    }
};
        




        window.goToAdmin = function() {
            const password = prompt("ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงูุณุฑ:");
            if (password === "jameel") window.location.href = "index.html";
        };
    </script>

    <script>





function logout() {
    localStorage.removeItem("userName");
    location.reload();
}
</script>


<script>


    
    // ------------------------------------------------

    if (!userName && authButtons) {
    // ูุชุฑู ุงููุญุชูู ููุง ูู ูู ุงูู HTML ููุง ูุณุชุจุฏูู ุจุฒุฑ ูุงุญุฏ ููุท
    // ุฃู ูููู ุจุฅุนุงุฏุฉ ูุชุงุจุฉ ุงูุฒุฑูู ูุนุงู ููุง
    authButtons.innerHTML = `
        <a href="sign-up02.html" class="nav-btn-login">ุชุณุฌูู ุงูุฏุฎูู</a>
        <a href="create-account-02.html" class="nav-btn-signup">ุฅูุดุงุก ุญุณุงุจ</a>
    `;
}

document.addEventListener("DOMContentLoaded", function() {
    const userName = localStorage.getItem("userName");
    const navLinksList = document.getElementById("navLinksList");

    // ุชุญูู ุฃููู: ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูู ุฌูููุ ุฃุถู ุฑุงุจุท ููุญุฉ ุงูุชุญูู ูููุงุฆูุฉ
    if (userName === "jameel") {
        const adminLi = document.createElement("li");
        adminLi.innerHTML = `<a href="control02.html" > ููุญุฉ ุงูุชุญูู</a>`;
        navLinksList.appendChild(adminLi);
    }
});









document.addEventListener("DOMContentLoaded", function() {
    const userName = localStorage.getItem("userName");
    
    // ุงุณุชุฎุฏููุง querySelector ูุฌูุจ ุงููุงุฆูุฉ ุนู ุทุฑูู ุงูููุงุณ ุงูููุฌูุฏ ูุนููุงู ูู ููุฏู
    const navLinksList = document.querySelector(".nav-links");

    // ุชุญูู ุฃููู: ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูู ุฌูููุ ุฃุถู ุฑุงุจุท ููุญุฉ ุงูุชุญูู ูููุงุฆูุฉ
    if (userName === "jameel" && navLinksList) {
        const adminLi = document.createElement("li");
        adminLi.innerHTML = `<a href="control02.html" style="042de2: #ff4d4d; "> ููุญุฉ ุงูุชุญูู</a>`;
        navLinksList.appendChild(adminLi);
    }
});
</script>









</body> 
</html>