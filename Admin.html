<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø·Ù„Ø¨Ø§Øª | Ø­Ø¨Ù‘Ø§Ø±</title>
    <link rel="stylesheet" href="Habbar01.css">
    <style>
        .request-card { background: white; color: #333; padding: 25px; border-radius: 20px; text-align: right; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .req-tag { background: #042de2; color: white; padding: 4px 10px; border-radius: 5px; font-size: 12px; }
        .req-info { margin-top: 15px; font-size: 14px; border-top: 1px solid #eee; padding-top: 10px; }
        .req-info b { color: #042de2; }
    </style>
</head>

<nav class="navbar">
    <div class="nav-container">
        <div class="logo">
            <a href="index.html" id="adminLink">Ø­Ø¨Ø§Ø±</a>
        </div>
        
        <div class="menu-toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>

        <ul class="nav-links">
            <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="Habbar01.html">Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</a></li>
            <li><a href="Request.html">Ø·Ù„Ø¨ ØªØ¹Ø§ÙˆÙ†</a></li>
            <li><a href="javascript:void(0)" onclick="goToAdmin()">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ğŸ”’</a></li>
        </ul>
    </div>
</nav>


<body>
<div class="container">
    <h1 class="main-title">Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ø§Ù„ÙˆØ§Ø±Ø¯Ø©</h1>
    <div id="requestsList" class="reviews-grid">
        </div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = { /* Ù†ÙØ³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© */ 
        apiKey: "AIzaSyC5LqK5nYvhmgVLB8utjPjLQdNQMy_qe2c",
        authDomain: "comments-test01.firebaseapp.com",
        databaseURL: "https://comments-test01-default-rtdb.firebaseio.com",
        projectId: "comments-test01",
        storageBucket: "comments-test01.firebasestorage.app",
        messagingSenderId: "1061900134848",
        appId: "1:1061900134848:web:a740fa25f3a27a36be0025"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    onValue(ref(db, 'collaboration_requests'), (snapshot) => {
        const list = document.getElementById('requestsList');
        list.innerHTML = "";
        const data = snapshot.val();
        if (data) {
            Object.values(data).reverse().forEach(req => {
                list.innerHTML += `
                    <div class="request-card">
                        <span class="req-tag">${req.represent}</span>
                        <h3>${req.name}</h3>
                        <div class="req-info">
                            <p><b>Ø§Ù„Ù…Ø¬Ø§Ù„:</b> ${req.field}</p>
                            <p><b>Ø§Ù„Ø®Ø¯Ù…Ø©:</b> ${req.service}</p>
                            <p><b>Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©:</b> ${req.budget}</p>
                            <p><b>Ø§Ù„ØªÙˆØ§ØµÙ„:</b> ${req.contact}</p>
                            <small style="color:#999">${req.date}</small>
                        </div>
                    </div>`;
            });
        }
    });






    // Ø­Ù…Ø§ÙŠØ© Ø¨Ø³ÙŠØ·Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
const auth = sessionStorage.getItem('isAdmin');

if (!auth) {
    const pass = prompt("Ù…Ù†Ø·Ù‚Ø© Ù…Ø­Ø¸ÙˆØ±Ø©ØŒ Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:");
    if (pass === "kham") {
        sessionStorage.setItem('isAdmin', 'true');
    } else {
        alert("ÙˆØµÙˆÙ„ Ù…Ø±ÙÙˆØ¶");
        window.location.href = "index.html"; // ÙŠØ±Ø¬Ø¹Ù‡ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    }
}
</script>


<script>
    // 1. Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…Ù†ÙŠÙˆ Ø§Ù„Ø¨Ø±Ø¬Ø± (Ù„ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„)
    const menuToggle = document.querySelector('#mobile-menu');
    const navLinks = document.querySelector('.nav-links');

    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            navLinks.classList.toggle('active');
            // Ø­Ø±ÙƒØ© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© ØªØ¬Ø¹Ù„ Ø®Ø·ÙˆØ· Ø§Ù„Ø¨Ø±Ø¬Ø± ØªØªØ­ÙˆÙ„ Ù„Ù€ X Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø¥Ø¶Ø§ÙØ© CSS Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹
            menuToggle.classList.toggle('is-active');
        });
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ù†ÙŠÙˆ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ø±Ø§Ø¨Ø· (Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('active');
        });
    });

    // 2. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© (3 Ø¶ØºØ·Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ¬Ùˆ)
    let clickCount = 0;
    const logoLink = document.getElementById('adminLink');

    if (logoLink) {
        logoLink.addEventListener('click', function(e) {
            clickCount++;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØµÙÙŠØ± Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
            setTimeout(() => { clickCount = 0; }, 1000);

            if (clickCount === 3) {
                e.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                const password = prompt("Ù…Ù†Ø·Ù‚Ø© Ø®Ø§ØµØ©ØŒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²:");
                if (password === "kham") {
                    window.location.href = "Admin.html";
                } else if (password !== null) {
                    alert("Ø§Ù„Ø±Ù…Ø² Ø®Ø§Ø·Ø¦!");
                }
                clickCount = 0;
            }
        });
    }

    // 3. Ø¯Ø§Ù„Ø© goToAdmin Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© (Ù„Ùˆ Ø¶ØºØ·Øª Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ù…Ù†ÙŠÙˆ)
    window.goToAdmin = function() {
        const password = prompt("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±:");
        if (password === "kham") {
            window.location.href = "Admin.html";
        } else if (password !== null) {
            alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø®Ø§Ø·Ø¦Ø©!");
        }
    }
</script>



</body>

</html>
