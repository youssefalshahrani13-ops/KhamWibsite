<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุจุงุฑ |  ุทูุจ ุชุนุงูู</title>
    <link rel="stylesheet" href="Request-02-style.css">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
   <nav class="navbar"> 
    <div class="nav-container"> 
        <div class="logo"> 
            <a href="index.html" id="adminLink">ุญุจุงุฑ</a> 
        </div>

        <ul class="nav-links"> 
            <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li> 
            <li><a href="Request02.html">ุทูุจ ุชุนุงูู</a></li> 
        </ul>

        <div class="auth-buttons" id="authSection">
            <a href="sign-up02.html" class="nav-btn-login">ุชุณุฌูู ุงูุฏุฎูู</a>
            <a href="create-account-02.html" class="nav-btn-signup">ุฅูุดุงุก ุญุณุงุจ</a>
        </div>
        
        <div class="menu-toggle" id="mobile-menu"> 
            <span class="bar"></span> 
            <span class="bar"></span> 
            <span class="bar"></span> 
        </div>
    </div>
</nav>



    <div class="main-hero">
        <div class="container">
            <header class="header-section">
                <h1 class="hero-title">ุญุจูุงุฑ | ูููุฐุฌ ุทูุจ ุชุนุงูู</h1>
                <p class="hero-subtitle">ูุฐุง ุงููููุฐุฌ ูุฎุตุต ููุฑุงุบุจูู ูู ุงูุชุนุงูู ุจุฎุตูุต ูุชุงุจุฉ ุงูุฅุนูุงูุงุช ูุงููุญุชูู.</p>
            </header>

            <div class="form-card">
                <div class="q-group" id="nameGroup">
                    <label class="q-title">ุงูุงุณู ุงููุฑูู: *</label>
                    <input type="text" id="guestName" placeholder="ุงูุชุจ ุงุณูู ููุง" class="custom-input-white">
                </div>
                
                <div class="q-group">
                    <label class="q-title">ูุง ูู ูุฌุงููุ *</label>
                    <input type="text" id="field" placeholder="ูุซุงู: ุงูุชูููุฉุ ุงูุนุทูุฑุ ุงูุชุนููู..." required class="custom-input-white">
                </div>

                <div class="q-group">
                    <label class="q-title">ุฃูุช ุชูุซูู: *</label>
                    <div class="radio-grid">
                        <label class="radio-item"><input type="radio" name="represent" value="ุตุงุญุจ ูุดุฑูุน"> ุตุงุญุจ ูุดุฑูุน</label>
                        <label class="radio-item"><input type="radio" name="represent" value="ุตุงูุน ูุญุชูู"> ุตุงูุน ูุญุชูู</label>
                        <label class="radio-item"><input type="radio" name="represent" value="ุดุฑูุฉ / ูุฑูู"> ุดุฑูุฉ / ูุฑูู</label>
                        <label class="radio-item"><input type="radio" name="represent" value="ูุฑุฏ"> ูุฑุฏ (ุฎุฏูุฉ ุดุฎุตูุฉ)</label>
                    </div>
                </div>

                <div class="q-group">
                    <label class="q-title">ูุง ุงูุฎุฏูุฉ ุงูุชู ุชุญุชุงุฌูุงุ *</label>
                    <div class="radio-grid">
                        <label class="radio-item"><input type="radio" name="service" value="ูุชุงุจุฉ ุฅุนูุงู"> ูุชุงุจุฉ ุฅุนูุงู</label>
                        <label class="radio-item"><input type="radio" name="service" value="ูุชุงุจุฉ ูุญุชูู"> ูุชุงุจุฉ ูุญุชูู</label>
                        <label class="radio-item"><input type="radio" name="service" value="ูุตู ููุชุฌุงุช"> ูุตู ููุชุฌุงุช</label>
                        <label class="radio-item"><input type="radio" name="service" value="ุตูุญุฉ ูุจูุท"> ุตูุญุฉ ูุจูุท</label>
                        <label class="radio-item"><input type="radio" name="service" value="ุจูุงุก ูููุฉ"> ุจูุงุก ุฑุณุงูุฉ ุนูุงูุฉ</label>
                    </div>
                </div>

                <div class="q-group">
                    <label class="q-title">ููุฒุงููุชู ุงูุชูุฑูุจูุฉ: *</label>
                    <div class="radio-grid">
                        <label class="radio-item"><input type="radio" name="budget" value="ุฃูู ูู 500"> ุฃูู ูู 500 ุฑูุงู</label>
                        <label class="radio-item"><input type="radio" name="budget" value="500 - 1000"> 500 - 1000 ุฑูุงู</label>
                        <label class="radio-item"><input type="radio" name="budget" value="1000 - 3000"> 1000 - 3000 ุฑูุงู</label>
                        <label class="radio-item"><input type="radio" name="budget" value="ุฃูุซุฑ ูู ุฐูู"> ุฃูุซุฑ ูู ุฐูู</label>
                    </div>
                </div>

                <div class="q-group">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <label class="q-title" id="contactLabel" style="margin-bottom: 0;">ุฑูู ุงูุฌูุงู *</label>
                        <button type="button" onclick="toggleContactType()" id="toggleBtn" class="switch-contact-btn">
                             ุชุจุฏูู ููุจุฑูุฏ ุงูุฅููุชุฑููู
                        </button>
                    </div>
                    <input type="tel" id="contactInfo" placeholder="05XXXXXXXX" required class="custom-input-white">
                </div>

                <div class="button-row">
                    <button type="button" onclick="sendRequest()" class="primary-btn">ุฅุฑุณุงู ุงูุทูุจ</button>
                    <button type="button" onclick="resetForm()" class="secondary-btn">ูุณุญ ุงููููุฐุฌ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyC5LqK5nYvhmgVLB8utjPjLQdNQMy_qe2c",
            authDomain: "comments-test01.firebaseapp.com",
            databaseURL: "https://comments-test01-default-rtdb.firebaseio.com/",
            projectId: "comments-test01",
            storageBucket: "comments-test01.firebasestorage.app",
            messagingSenderId: "1061900134848",
            appId: "1:1061900134848:web:a740fa25f3a27a36be0025"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        let currentContactType = "phone"; 

        window.toggleContactType = function() {
            const label = document.getElementById('contactLabel');
            const input = document.getElementById('contactInfo');
            const btn = document.getElementById('toggleBtn');

            if (currentContactType === "phone") {
                currentContactType = "email";
                label.innerText = "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู *";
                input.type = "email";
                input.placeholder = "example@mail.com";
                input.value = ""; 
                btn.innerHTML = " ุชุจุฏูู ูุฑูู ุงูุฌูุงู";
            } else {
                currentContactType = "phone";
                label.innerText = "ุฑูู ุงูุฌูุงู *";
                input.type = "tel";
                input.placeholder = "05XXXXXXXX";
                input.value = ""; 
                btn.innerHTML = " ุชุจุฏูู ููุจุฑูุฏ ุงูุฅููุชุฑููู";
            }
        };

        window.sendRequest = function() {
            let name = localStorage.getItem("userName"); 
            if (!name) {
                name = document.getElementById('guestName').value;
            }

            const field = document.getElementById('field').value;
            const contact = document.getElementById('contactInfo').value;
            const represent = document.querySelector('input[name="represent"]:checked')?.value;
            const service = document.querySelector('input[name="service"]:checked')?.value;
            const budget = document.querySelector('input[name="budget"]:checked')?.value;

            if (name && represent && service && contact) {
                database.ref('collaboration_requests').push({
                    name: name,
                    represent: represent,
                    field: field,
                    service: service,
                    budget: budget,
                    contact: contact,
                    contactType: currentContactType,
                    date: new Date().toLocaleString('ar-SA'),
                    createdAt: Date.now()
                }).then(() => {
                    alert("ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ ูุง " + name + ". ุญุจุงุฑ ูุชุทูุน ููุนูู ูุนู!");
                    window.location.href = "index.html";
                });
            } else {
                alert("ูุฑุฌู ููุก ูุงูุฉ ุงูุจูุงูุงุช ุงููุทููุจุฉ (ุจูุง ูู ุฐูู ุงูุงุณู)");
            }
        };

        window.resetForm = function() {
            if (confirm("ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ูุณุญ ูุงูุฉ ุงูุจูุงูุงุชุ")) {
                location.reload(); 
            }
        };

        document.addEventListener("DOMContentLoaded", function() {
    const userName = localStorage.getItem("userName");
    // ูุณุชุฎุฏู getElementById ููุชุฃูุฏ ูู ุฏูุฉ ุงูุงุฎุชูุงุฑ
    const authSection = document.getElementById("authSection");
    const navLinksList = document.querySelector(".nav-links");

    if (userName) {
        // ุฅุฎูุงุก ุญูู ุงูุงุณู ุฅุฐุง ูุงู ูุณุฌูุงู
        const nameGroup = document.getElementById("nameGroup");
        if (nameGroup) nameGroup.style.display = "none";
        
        // ุญูู ุฃุฒุฑุงุฑ ุงููุณุชุฎุฏู
        if (authSection) {
            authSection.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px;">
                    <a href="customer-profile02.html" 
                       style="color: #042de2; font-weight: 700; text-decoration: none; border: 2px solid #042de2; padding: 10px 24px; border-radius: 8px; transition: 0.3s ease; display: inline-flex; align-items: center; justify-content: center; font-size: 14px; min-width: 140px; box-sizing: border-box; background-color: transparent;"
                       onmouseover="this.style.color='#7e7e7e'; this.style.borderColor='#7e7e7e';" 
                       onmouseout="this.style.color='#042de2'; this.style.borderColor='#042de2';">
                         ${userName} ๐ค
                    </a>
                    <button onclick="logout()" 
                            style="background-color: #ff4d4d; border: 2px solid #ff4d4d; color: white; font-weight: 700; padding: 10px 24px; border-radius: 8px; cursor: pointer; font-family: inherit; transition: 0.3s ease; display: inline-flex; align-items: center; justify-content: center; font-size: 14px; min-width: 140px; box-sizing: border-box;"
                            onmouseover="this.style.backgroundColor='transparent'; this.style.color='#ff4d4d';" 
                            onmouseout="this.style.backgroundColor='#ff4d4d'; this.style.color='white';">
                        ุชุณุฌูู ุฎุฑูุฌ
                    </button>
                </div>
            `;
        }

        // ุฅุธูุงุฑ ููุญุฉ ุงูุชุญูู ูููุฏูุฑ
        if (userName === "jameel" && navLinksList) {
            // ูุชุญูู ุฃููุงู ูู ุงูุฑุงุจุท ููุฌูุฏ ูุณุจูุงู ูููุน ุงูุชูุฑุงุฑ
            if (!document.querySelector('a[href="control02.html"]')) {
                const adminLi = document.createElement("li");
                adminLi.innerHTML = `<a href="control02.html">ููุญุฉ ุงูุชุญูู</a>`;
                navLinksList.appendChild(adminLi);
            }
        }
    }
});



        window.logout = function() { 
            localStorage.removeItem("userName"); 
            location.reload(); 
        }
    </script>
</body>
</html>